<?php

return [
    "site.url" => "http://localhost:8080/api.php",

    "logger.name" => "middle-skeleton",
    "logger.path" =>
        __DIR__ .
        "/../var/logs/" .
        (php_sapi_name() === "cli" ? "cli" : "web") .
        "-" .
        date("Ymd") .
        ".log",
    "logger.enable_request_logging" => true, // Enable request/response logging in development

    "db.dsn" => "sqlite:./var/bb.db",
    "db.dbname" => null,
    "db.user" => null,
    "db.pass" => null,

    "ratelimit.db.dsn" => "sqlite:./var/ratelimit.db",
    "ratelimit.db.dbname" => null,
    "ratelimit.db.user" => null,
    "ratelimit.db.pass" => null,
    "ratelimit.username_threshold" => 10, // Max failed attempts per username in window
    "ratelimit.ip_threshold" => 100, // Max failed attempts per IP in window
    "ratelimit.window_minutes" => 10, // Time window for rate limiting
    "ratelimit.trust_proxy_headers" => false, // Trust X-Forwarded-For when behind load balancer

    "users.storage.type" => "file",
    "users.storage.path" => __DIR__ . "/../var/users.json",

    "auth.jwt_secret" => "dev-secret-key-change-in-production",
    "auth.application_name" => "bookmark-bureau",
    "auth.session_ttl" => 1800, // 30 minutes
    "auth.remember_me_ttl" => 2592000, // 30 days
];
